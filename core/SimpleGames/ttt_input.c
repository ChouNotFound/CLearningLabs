/******************************************************************************
 * @file    input.c
 * @author  
 * @date    2025-10-28
 ******************************************************************************
 * Description:
 *   井字棋游戏输入模块实现文件
 *
 * Functions:
 *   - ttt_input_player_move() : 处理玩家移动输入
 ******************************************************************************
 * @version 1.0
 ******************************************************************************/

/*=============================================================================
 *                           头文件包含区
 *===========================================================================*/

#include <stdio.h>
#include "ttt_input.h"
#include "ttt_board.h"

/*=============================================================================
 *                          函数实现区
 *===========================================================================*/

/* 玩家移动 */
void ttt_input_player_move(ttt_board_t board, char player)
{
    int row, col;
    
    do
    {
        printf("玩家 %c 的回合，请输入行列坐标 (例如: 1 2): ", player);
        scanf("%d %d", &row, &col);
        
        // 检查输入是否有效
        if (row < 1 || row > 3 || col < 1 || col > 3)
        {
            printf("坐标超出范围，请重新输入！\n");
            continue;
        }
        
        // 检查位置是否已被占用
        if (board[row - 1][col - 1] != ' ')
        {
            printf("该位置已被占用，请重新输入！\n");
            continue;
        }
        
        // 放置棋子
        board[row - 1][col - 1] = player;
        break;
        
    } while (1);
}